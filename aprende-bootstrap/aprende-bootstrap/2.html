<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bootstrap Academy - Curso Avanzado</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --success-gradient: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            --danger-gradient: linear-gradient(135deg, #ee5a24 0%, #ff6b6b 100%);
            --info-gradient: linear-gradient(135deg, #3742fa 0%, #2f3542 100%);
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        .navbar {
            background: var(--primary-gradient) !important;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .code-playground {
            background: #1e1e1e;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .code-editor {
            background: #1e1e1e;
            position: relative;
        }

        .code-editor textarea {
            width: 100%;
            height: 300px;
            background: transparent;
            color: #d4d4d4;
            border: none;
            padding: 20px;
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            resize: none;
            outline: none;
        }

        .editor-tabs {
            background: #2d2d30;
            padding: 0;
            margin: 0;
            border-bottom: 1px solid #3e3e42;
        }

        .editor-tab {
            background: #2d2d30;
            color: #cccccc;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .editor-tab.active {
            background: #1e1e1e;
            border-bottom-color: #007acc;
        }

        .preview-frame {
            background: white;
            border: none;
            width: 100%;
            height: 400px;
            border-radius: 10px;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
        }

        .lesson-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            overflow: hidden;
            position: relative;
        }

        .lesson-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-gradient);
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .lesson-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .lesson-card:hover::before {
            transform: scaleX(1);
        }

        .lesson-icon {
            font-size: 3rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .challenge-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s;
            border-left: 5px solid #28a745;
        }

        .challenge-card.completed {
            border-left-color: #007bff;
            background: linear-gradient(135deg, #e3f2fd 0%, #f8f9ff 100%);
        }

        .interactive-demo {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin: 20px 0;
        }

        .control-panel {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .color-picker {
            width: 50px;
            height: 35px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .achievement-badge {
            position: fixed;
            top: 20px;
            right: -300px;
            background: var(--success-gradient);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: right 0.5s ease;
            z-index: 1000;
        }

        .achievement-badge.show {
            right: 20px;
        }

        .progress-ring {
            transition: stroke-dasharray 0.5s ease;
        }

        .floating-help {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--primary-gradient);
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: all 0.3s;
            z-index: 999;
        }

        .floating-help:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }

        .code-hint {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            position: relative;
        }

        .split-pane {
            display: flex;
            height: 500px;
            gap: 10px;
        }

        .pane {
            flex: 1;
            border-radius: 10px;
            overflow: hidden;
        }

        .component-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .component-item {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
        }

        .component-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .live-customizer {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .slider-control {
            margin: 15px 0;
        }

        .slider-control input[type="range"] {
            width: 100%;
            -webkit-appearance: none;
            height: 8px;
            border-radius: 4px;
            background: #ddd;
            outline: none;
        }

        .slider-control input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary-gradient);
            cursor: pointer;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-in {
            animation: slideInUp 0.6s ease forwards;
        }

        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand text-white fw-bold" href="#">
                <i class="fas fa-graduation-cap me-2"></i>Bootstrap Academy
            </a>
            <div class="navbar-nav ms-auto">
                <div class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle text-white" href="#" id="progressDropdown" role="button" data-bs-toggle="dropdown">
                        <i class="fas fa-trophy me-1"></i>
                        Progreso: <span id="progress-percentage">0%</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#"><i class="fas fa-medal text-warning me-2"></i>Logros: <span id="achievements-count">0</span></a></li>
                        <li><a class="dropdown-item" href="#"><i class="fas fa-star text-primary me-2"></i>Puntos: <span id="points-count">0</span></a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#" onclick="resetProgress()"><i class="fas fa-redo text-danger me-2"></i>Reiniciar</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- Achievement Badge -->
    <div class="achievement-badge" id="achievement-badge">
        <i class="fas fa-trophy me-2"></i>
        <span id="achievement-text">¬°Logro desbloqueado!</span>
    </div>

    <div class="container-fluid mt-4">
        <!-- Main Menu -->
        <div id="main-menu" class="animate-in">
            <div class="text-center mb-5">
                <h1 class="display-4 fw-bold mb-3">
                    <i class="fas fa-code text-primary me-3"></i>Bootstrap Academy
                </h1>
                <p class="lead text-muted">Domina Bootstrap con ejercicios interactivos y proyectos reales</p>
                
                <!-- Progress Circle -->
                <div class="d-inline-block position-relative">
                    <svg width="120" height="120" class="transform-rotate">
                        <circle cx="60" cy="60" r="50" fill="none" stroke="#e9ecef" stroke-width="8"/>
                        <circle cx="60" cy="60" r="50" fill="none" stroke="#007bff" stroke-width="8" 
                                stroke-dasharray="0 314" class="progress-ring" id="progress-circle"/>
                    </svg>
                    <div class="position-absolute top-50 start-50 translate-middle">
                        <div class="h4 mb-0" id="circle-percentage">0%</div>
                        <small class="text-muted">Completado</small>
                    </div>
                </div>
            </div>

            <!-- Lesson Categories -->
            <div class="row mb-5">
                <div class="col-md-4 mb-4">
                    <div class="lesson-card h-100" onclick="showCategory('fundamentals')">
                        <div class="card-body text-center p-4">
                            <div class="lesson-icon mb-3">
                                <i class="fas fa-rocket"></i>
                            </div>
                            <h5 class="card-title">Fundamentos</h5>
                            <p class="card-text text-muted">Grid system, utilidades y componentes b√°sicos</p>
                            <div class="mt-3">
                                <span class="badge bg-primary me-2">6 Lecciones</span>
                                <span class="badge bg-success">Principiante</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-4 mb-4">
                    <div class="lesson-card h-100" onclick="showCategory('components')">
                        <div class="card-body text-center p-4">
                            <div class="lesson-icon mb-3">
                                <i class="fas fa-puzzle-piece"></i>
                            </div>
                            <h5 class="card-title">Componentes</h5>
                            <p class="card-text text-muted">Navbar, cards, modals, formularios y m√°s</p>
                            <div class="mt-3">
                                <span class="badge bg-primary me-2">8 Lecciones</span>
                                <span class="badge bg-warning">Intermedio</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-4 mb-4">
                    <div class="lesson-card h-100" onclick="showCategory('advanced')">
                        <div class="card-body text-center p-4">
                            <div class="lesson-icon mb-3">
                                <i class="fas fa-magic"></i>
                            </div>
                            <h5 class="card-title">Avanzado</h5>
                            <p class="card-text text-muted">Customizaci√≥n, SASS, JavaScript y proyectos</p>
                            <div class="mt-3">
                                <span class="badge bg-primary me-2">5 Lecciones</span>
                                <span class="badge bg-danger">Avanzado</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="row">
                <div class="col-md-6 mb-3">
                    <div class="card bg-primary text-white">
                        <div class="card-body text-center">
                            <i class="fas fa-play-circle fa-2x mb-3"></i>
                            <h5>Playground</h5>
                            <p class="mb-3">Experimenta libremente con Bootstrap</p>
                            <button class="btn btn-light" onclick="openPlayground()">
                                <i class="fas fa-code me-2"></i>Abrir Playground
                            </button>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-3">
                    <div class="card bg-success text-white">
                        <div class="card-body text-center">
                            <i class="fas fa-trophy fa-2x mb-3"></i>
                            <h5>Desaf√≠os</h5>
                            <p class="mb-3">Pon a prueba tus habilidades</p>
                            <button class="btn btn-light" onclick="showChallenges()">
                                <i class="fas fa-medal me-2"></i>Ver Desaf√≠os
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Category View -->
        <div id="category-view" style="display: none;">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <button class="btn btn-outline-primary" onclick="backToMenu()">
                    <i class="fas fa-arrow-left me-2"></i>Volver al Men√∫
                </button>
                <h2 id="category-title">Categor√≠a</h2>
                <div></div>
            </div>
            <div id="lessons-grid" class="row">
                <!-- Lessons will be loaded here -->
            </div>
        </div>

        <!-- Lesson View -->
        <div id="lesson-view" style="display: none;">
            <div class="row">
                <div class="col-12 mb-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <button class="btn btn-outline-secondary" onclick="backToCategory()">
                            <i class="fas fa-arrow-left me-2"></i>Volver
                        </button>
                        <div class="d-flex align-items-center">
                            <span class="badge bg-primary me-2" id="lesson-difficulty">Principiante</span>
                            <h3 class="mb-0" id="lesson-title">T√≠tulo de la Lecci√≥n</h3>
                        </div>
                        <button class="btn btn-success" id="complete-lesson" onclick="completeLesson()" style="display: none;">
                            <i class="fas fa-check me-2"></i>Completar
                        </button>
                    </div>
                </div>
            </div>

            <div class="row">
                <!-- Theory Panel -->
                <div class="col-lg-5">
                    <div class="card h-100">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0">
                                <i class="fas fa-book-open me-2"></i>Teor√≠a
                            </h5>
                        </div>
                        <div class="card-body" id="theory-content">
                            <!-- Theory content -->
                        </div>
                    </div>
                </div>

                <!-- Interactive Panel -->
                <div class="col-lg-7">
                    <div class="code-playground">
                        <div class="editor-tabs d-flex">
                            <button class="editor-tab active" onclick="switchTab('html')">
                                <i class="fab fa-html5 me-2"></i>HTML
                            </button>
                            <button class="editor-tab" onclick="switchTab('css')">
                                <i class="fab fa-css3-alt me-2"></i>CSS
                            </button>
                            <button class="editor-tab" onclick="switchTab('js')">
                                <i class="fab fa-js-square me-2"></i>JS
                            </button>
                            <div class="ms-auto p-2">
                                <button class="btn btn-sm btn-success" onclick="runCode()">
                                    <i class="fas fa-play me-1"></i>Ejecutar
                                </button>
                                <button class="btn btn-sm btn-secondary" onclick="resetCode()">
                                    <i class="fas fa-undo me-1"></i>Reset
                                </button>
                            </div>
                        </div>
                        
                        <div class="split-pane">
                            <div class="pane">
                                <div class="code-editor" id="html-editor">
                                    <textarea id="html-code" placeholder="Escribe tu HTML aqu√≠..."></textarea>
                                </div>
                                <div class="code-editor" id="css-editor" style="display: none;">
                                    <textarea id="css-code" placeholder="Escribe tu CSS aqu√≠..."></textarea>
                                </div>
                                <div class="code-editor" id="js-editor" style="display: none;">
                                    <textarea id="js-code" placeholder="Escribe tu JavaScript aqu√≠..."></textarea>
                                </div>
                            </div>
                            
                            <div class="pane">
                                <iframe id="preview-frame" class="preview-frame" sandbox="allow-scripts"></iframe>
                            </div>
                        </div>
                    </div>

                    <!-- Interactive Controls -->
                    <div class="live-customizer mt-3" id="interactive-controls" style="display: none;">
                        <h6><i class="fas fa-sliders-h me-2"></i>Controles Interactivos</h6>
                        <div id="controls-content">
                            <!-- Dynamic controls will be added here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Challenges Section -->
            <div class="row mt-4" id="lesson-challenges" style="display: none;">
                <div class="col-12">
                    <h5><i class="fas fa-dumbbell me-2"></i>Desaf√≠os de Pr√°ctica</h5>
                    <div id="challenges-container">
                        <!-- Challenges will be loaded here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Playground View -->
        <div id="playground-view" style="display: none;">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <button class="btn btn-outline-primary" onclick="backToMenu()">
                    <i class="fas fa-arrow-left me-2"></i>Volver al Men√∫
                </button>
                <h2><i class="fas fa-code me-2"></i>Bootstrap Playground</h2>
                <div class="btn-group">
                    <button class="btn btn-outline-secondary" onclick="saveProject()">
                        <i class="fas fa-save me-2"></i>Guardar
                    </button>
                    <button class="btn btn-outline-secondary" onclick="shareProject()">
                        <i class="fas fa-share me-2"></i>Compartir
                    </button>
                </div>
            </div>

            <div class="row">
                <div class="col-md-3">
                    <div class="live-customizer">
                        <h6><i class="fas fa-palette me-2"></i>Componentes</h6>
                        <div class="component-gallery">
                            <div class="component-item" onclick="addComponent('button')">
                                <i class="fas fa-mouse-pointer mb-2"></i>
                                <div>Bot√≥n</div>
                            </div>
                            <div class="component-item" onclick="addComponent('card')">
                                <i class="fas fa-id-card mb-2"></i>
                                <div>Card</div>
                            </div>
                            <div class="component-item" onclick="addComponent('navbar')">
                                <i class="fas fa-bars mb-2"></i>
                                <div>Navbar</div>
                            </div>
                            <div class="component-item" onclick="addComponent('modal')">
                                <i class="fas fa-window-maximize mb-2"></i>
                                <div>Modal</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-9">
                    <div class="code-playground">
                        <div class="editor-tabs d-flex">
                            <button class="editor-tab active" onclick="switchPlaygroundTab('html')">HTML</button>
                            <button class="editor-tab" onclick="switchPlaygroundTab('css')">CSS</button>
                            <button class="editor-tab" onclick="switchPlaygroundTab('js')">JS</button>
                            <div class="ms-auto p-2">
                                <button class="btn btn-sm btn-success" onclick="runPlaygroundCode()">
                                    <i class="fas fa-play me-1"></i>Ejecutar
                                </button>
                            </div>
                        </div>
                        
                        <div class="split-pane">
                            <div class="pane">
                                <div class="code-editor" id="playground-html-editor">
                                    <textarea id="playground-html-code"></textarea>
                                </div>
                                <div class="code-editor" id="playground-css-editor" style="display: none;">
                                    <textarea id="playground-css-code"></textarea>
                                </div>
                                <div class="code-editor" id="playground-js-editor" style="display: none;">
                                    <textarea id="playground-js-code"></textarea>
                                </div>
                            </div>
                            
                            <div class="pane">
                                <iframe id="playground-preview" class="preview-frame" sandbox="allow-scripts"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Challenges View -->
        <div id="challenges-view" style="display: none;">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <button class="btn btn-outline-primary" onclick="backToMenu()">
                    <i class="fas fa-arrow-left me-2"></i>Volver al Men√∫
                </button>
                <h2><i class="fas fa-trophy me-2"></i>Desaf√≠os de Bootstrap</h2>
                <div></div>
            </div>

            <div class="row" id="challenges-grid">
                <!-- Challenges will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Floating Help Button -->
    <div class="floating-help" onclick="showHelp()">
        <i class="fas fa-question"></i>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // Global variables
        let currentView = 'main-menu';
        let currentCategory = '';
        let currentLesson = '';
        let userProgress = {
            completedLessons: [],
            points: 0,
            achievements: [],
            currentStreak: 0
        };

        // Lesson data structure
        const lessonCategories = {
            fundamentals: {
                title: 'Fundamentos de Bootstrap',
                lessons: {
                    'grid-system': {
                        title: 'Sistema de Grillas Avanzado',
                        difficulty: 'Principiante',
                        theory: `
                            <h6>üèóÔ∏è Sistema de Grillas de Bootstrap</h6>
                            <p>El sistema de grillas de Bootstrap es la base para crear layouts responsivos. Utiliza un sistema de 12 columnas con contenedores, filas y columnas.</p>
                            
                            <h6>Contenedores:</h6>
                            <ul>
                                <li><code>.container</code> - Ancho fijo responsivo</li>
                                <li><code>.container-fluid</code> - Ancho completo</li>
                                <li><code>.container-{breakpoint}</code> - Contenedor responsivo</li>
                            </ul>

                            <div class="alert alert-info">
                                <strong>üí° Tip:</strong> Siempre usa la estructura: Container ‚Üí Row ‚Üí Column
                            </div>

                            <h6>Breakpoints Responsivos:</h6>
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Clase</th>
                                            <th>Tama√±o</th>
                                            <th>Dispositivo</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr><td>.col-</td><td>&lt;576px</td><td>Extra small</td></tr>
                                        <tr><td>.col-sm-</td><td>‚â•576px</td><td>Small</td></tr>
                                        <tr><td>.col-md-</td><td>‚â•768px</td><td>Medium</td></tr>
                                        <tr><td>.col-lg-</td><td>‚â•992px</td><td>Large</td></tr>
                                        <tr><td>.col-xl-</td><td>‚â•1200px</td><td>Extra large</td></tr>
                                        <tr><td>.col-xxl-</td><td>‚â•1400px</td><td>Extra extra large</td></tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="code-hint">
                                <strong>üéØ Ejercicio:</strong> Crea un layout que tenga 1 columna en m√≥vil, 2 en tablet y 3 en desktop.
                            </div>
                        `,
                        initialCode: {
                            html: `<div class="container">
  <div class="row">
    <div class="col-12 col-md-6 col-lg-4">
      <div class="bg-primary text-white p-3 text-center">
        Columna 1
      </div>
    </div>
    <div class="col-12 col-md-6 col-lg-4">
      <div class="bg-success text-white p-3 text-center">
        Columna 2
      </div>
    </div>
    <div class="col-12 col-md-12 col-lg-4">
      <div class="bg-danger text-white p-3 text-center">
        Columna 3
      </div>
    </div>
  </div>
</div>`,
                            // Continuaci√≥n del JavaScript para Bootstrap Academy

                            css: `/* Estilos personalizados */
.container {
  margin-top: 20px;
}

.row > div {
  margin-bottom: 15px;
}

/* Efectos hover */
.row > div > div:hover {
  transform: scale(1.05);
  transition: transform 0.3s;
}`,
                            js: `// JavaScript interactivo
console.log('Grid system loaded!');

// Funci√≥n para cambiar colores din√°micamente
function changeColors() {
  const colors = ['primary', 'success', 'danger', 'warning', 'info'];
  const divs = document.querySelectorAll('.row > div > div');
  
  divs.forEach((div, index) => {
    div.className = div.className.replace(/bg-\\w+/, 'bg-' + colors[index % colors.length]);
  });
}`
                        },
                        challenges: [
                            {
                                id: 'grid-challenge-1',
                                title: 'Layout Responsivo',
                                description: 'Crea un layout que tenga 4 columnas iguales en desktop, 2 en tablet y 1 en m√≥vil',
                                points: 50
                            }
                        ],
                        interactiveControls: [
                            {
                                type: 'slider',
                                label: 'N√∫mero de columnas',
                                id: 'col-count',
                                min: 1,
                                max: 6,
                                value: 3
                            },
                            {
                                type: 'select',
                                label: 'Breakpoint',
                                id: 'breakpoint',
                                options: ['xs', 'sm', 'md', 'lg', 'xl']
                            }
                        ]
                    },
                    'utilities': {
                        title: 'Utilidades y Spacing',
                        difficulty: 'Principiante',
                        theory: `
                            <h6>üõ†Ô∏è Utilidades de Bootstrap</h6>
                            <p>Bootstrap incluye cientos de clases de utilidad para modificar espaciado, colores, posicionamiento y m√°s.</p>
                            
                            <h6>Spacing (Espaciado):</h6>
                            <div class="row">
                                <div class="col-md-6">
                                    <h6>Margin:</h6>
                                    <ul>
                                        <li><code>m-{size}</code> - Todos los lados</li>
                                        <li><code>mt-{size}</code> - Top</li>
                                        <li><code>mb-{size}</code> - Bottom</li>
                                        <li><code>ms-{size}</code> - Start (left)</li>
                                        <li><code>me-{size}</code> - End (right)</li>
                                        <li><code>mx-{size}</code> - Horizontal</li>
                                        <li><code>my-{size}</code> - Vertical</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6>Padding:</h6>
                                    <ul>
                                        <li><code>p-{size}</code> - Todos los lados</li>
                                        <li><code>pt-{size}</code> - Top</li>
                                        <li><code>pb-{size}</code> - Bottom</li>
                                        <li><code>ps-{size}</code> - Start (left)</li>
                                        <li><code>pe-{size}</code> - End (right)</li>
                                        <li><code>px-{size}</code> - Horizontal</li>
                                        <li><code>py-{size}</code> - Vertical</li>
                                    </ul>
                                </div>
                            </div>

                            <h6>Tama√±os disponibles:</h6>
                            <div class="d-flex flex-wrap gap-2 mb-3">
                                <span class="badge bg-secondary">0</span>
                                <span class="badge bg-secondary">1 (0.25rem)</span>
                                <span class="badge bg-secondary">2 (0.5rem)</span>
                                <span class="badge bg-secondary">3 (1rem)</span>
                                <span class="badge bg-secondary">4 (1.5rem)</span>
                                <span class="badge bg-secondary">5 (3rem)</span>
                                <span class="badge bg-secondary">auto</span>
                            </div>

                            <h6>Colores de Texto y Fondo:</h6>
                            <div class="row">
                                <div class="col-md-6">
                                    <p class="text-primary">text-primary</p>
                                    <p class="text-success">text-success</p>
                                    <p class="text-danger">text-danger</p>
                                    <p class="text-warning">text-warning</p>
                                    <p class="text-info">text-info</p>
                                </div>
                                <div class="col-md-6">
                                    <p class="bg-primary text-white px-2">bg-primary</p>
                                    <p class="bg-success text-white px-2">bg-success</p>
                                    <p class="bg-danger text-white px-2">bg-danger</p>
                                    <p class="bg-warning text-dark px-2">bg-warning</p>
                                    <p class="bg-info text-white px-2">bg-info</p>
                                </div>
                            </div>

                            <div class="alert alert-success">
                                <strong>‚ú® Pro Tip:</strong> Combina utilidades para crear efectos √∫nicos sin escribir CSS personalizado.
                            </div>
                        `,
                        initialCode: {
                            html: `<div class="container">
  <!-- Ejemplo de spacing -->
  <div class="bg-light p-4 mb-4 rounded">
    <h4 class="text-primary mb-3">Ejemplo de Spacing</h4>
    <div class="bg-primary text-white p-3 mb-3 rounded">Padding grande (p-3)</div>
    <div class="bg-success text-white p-1 mb-3 rounded">Padding peque√±o (p-1)</div>
    <div class="bg-danger text-white px-4 py-2 rounded">Padding horizontal y vertical diferente</div>
  </div>

  <!-- Ejemplo de colores -->
  <div class="bg-dark p-4 rounded">
    <h4 class="text-light mb-3">Paleta de Colores</h4>
    <div class="d-flex flex-wrap gap-2">
      <span class="badge bg-primary fs-6 p-2">Primary</span>
      <span class="badge bg-secondary fs-6 p-2">Secondary</span>
      <span class="badge bg-success fs-6 p-2">Success</span>
      <span class="badge bg-danger fs-6 p-2">Danger</span>
      <span class="badge bg-warning text-dark fs-6 p-2">Warning</span>
      <span class="badge bg-info fs-6 p-2">Info</span>
    </div>
  </div>

  <!-- Flexbox utilities -->
  <div class="bg-light p-4 mt-4 rounded">
    <h4 class="text-center mb-4">Flexbox Utilities</h4>
    <div class="d-flex justify-content-between align-items-center bg-white p-3 rounded shadow-sm">
      <div class="bg-primary text-white px-3 py-2 rounded">Izquierda</div>
      <div class="bg-success text-white px-3 py-2 rounded">Centro</div>
      <div class="bg-danger text-white px-3 py-2 rounded">Derecha</div>
    </div>
  </div>
</div>`,
                            css: `/* Estilos adicionales */
.container {
  margin-top: 30px;
}

/* Efectos hover personalizados */
.badge:hover {
  transform: scale(1.1);
  cursor: pointer;
  transition: transform 0.2s;
}

/* Animaci√≥n sutil */
.shadow-sm {
  transition: box-shadow 0.3s;
}

.shadow-sm:hover {
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
}`,
                            js: `// Utilidades interactivas
console.log('Utilities lesson loaded!');

// Funci√≥n para cambiar spacing din√°micamente
function changeSpacing() {
  const elements = document.querySelectorAll('.p-3');
  const spacings = ['p-1', 'p-2', 'p-3', 'p-4', 'p-5'];
  
  elements.forEach(el => {
    const currentSpacing = spacings[Math.floor(Math.random() * spacings.length)];
    el.className = el.className.replace(/p-\\d/, currentSpacing);
  });
}

// Auto-ejecutar cada 3 segundos
setInterval(changeSpacing, 3000);`
                        }
                    },
                    'flexbox': {
                        title: 'Flexbox con Bootstrap',
                        difficulty: 'Intermedio',
                        theory: `
                            <h6>üîÑ Flexbox en Bootstrap</h6>
                            <p>Bootstrap incluye utilidades completas para Flexbox que te permiten crear layouts complejos f√°cilmente.</p>
                            
                            <h6>Clases de Display:</h6>
                            <ul>
                                <li><code>.d-flex</code> - Activa flexbox</li>
                                <li><code>.d-inline-flex</code> - Flexbox inline</li>
                                <li><code>.d-{breakpoint}-flex</code> - Responsivo</li>
                            </ul>

                            <h6>Direcci√≥n del Flex:</h6>
                            <ul>
                                <li><code>.flex-row</code> - Horizontal (default)</li>
                                <li><code>.flex-column</code> - Vertical</li>
                                <li><code>.flex-row-reverse</code> - Horizontal inverso</li>
                                <li><code>.flex-column-reverse</code> - Vertical inverso</li>
                            </ul>

                            <h6>Justificaci√≥n (eje principal):</h6>
                            <ul>
                                <li><code>.justify-content-start</code> - Inicio</li>
                                <li><code>.justify-content-center</code> - Centro</li>
                                <li><code>.justify-content-end</code> - Final</li>
                                <li><code>.justify-content-between</code> - Espaciado entre elementos</li>
                                <li><code>.justify-content-around</code> - Espaciado alrededor</li>
                                <li><code>.justify-content-evenly</code> - Espaciado uniforme</li>
                            </ul>

                            <h6>Alineaci√≥n (eje cruzado):</h6>
                            <ul>
                                <li><code>.align-items-start</code> - Inicio</li>
                                <li><code>.align-items-center</code> - Centro</li>
                                <li><code>.align-items-end</code> - Final</li>
                                <li><code>.align-items-stretch</code> - Estirar</li>
                                <li><code>.align-items-baseline</code> - L√≠nea base</li>
                            </ul>

                            <div class="alert alert-info">
                                <strong>üéØ Pr√°ctica:</strong> Experimenta combinando diferentes clases para crear layouts √∫nicos.
                            </div>
                        `,
                        initialCode: {
                            html: `<div class="container">
  <!-- Ejemplo 1: Centrado perfecto -->
  <div class="bg-primary text-white mb-4 rounded" style="height: 200px;">
    <div class="d-flex justify-content-center align-items-center h-100">
      <div class="bg-white text-primary px-4 py-2 rounded fw-bold">
        ¬°Perfectamente Centrado!
      </div>
    </div>
  </div>

  <!-- Ejemplo 2: Navegaci√≥n horizontal -->
  <div class="bg-light p-3 mb-4 rounded">
    <div class="d-flex justify-content-between align-items-center">
      <div class="fw-bold text-primary">Logo</div>
      <div class="d-flex gap-3">
        <a href="#" class="text-decoration-none">Inicio</a>
        <a href="#" class="text-decoration-none">Productos</a>
        <a href="#" class="text-decoration-none">Contacto</a>
      </div>
      <button class="btn btn-primary btn-sm">Login</button>
    </div>
  </div>

  <!-- Ejemplo 3: Cards flexibles -->
  <div class="d-flex flex-wrap gap-3 mb-4">
    <div class="flex-fill bg-success text-white p-3 rounded text-center">
      <h5>Card 1</h5>
      <p class="mb-0">Contenido flexible</p>
    </div>
    <div class="flex-fill bg-warning text-dark p-3 rounded text-center">
      <h5>Card 2</h5>
      <p class="mb-0">Se adapta autom√°ticamente</p>
    </div>
    <div class="flex-fill bg-info text-white p-3 rounded text-center">
      <h5>Card 3</h5>
      <p class="mb-0">Mismo ancho para todas</p>
    </div>
  </div>

  <!-- Ejemplo 4: Layout vertical -->
  <div class="bg-dark text-white p-4 rounded" style="height: 300px;">
    <div class="d-flex flex-column h-100">
      <div class="bg-primary p-2 rounded mb-2 text-center">Header</div>
      <div class="flex-grow-1 bg-secondary p-2 rounded mb-2 d-flex align-items-center justify-content-center">
        Contenido que crece
      </div>
      <div class="bg-success p-2 rounded text-center">Footer</div>
    </div>
  </div>
</div>`,
                            css: `/* Estilos para flexbox */
.gap-3 {
  gap: 1rem;
}

/* Efectos hover */
.flex-fill:hover {
  transform: translateY(-5px);
  transition: transform 0.3s ease;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

/* Animaciones suaves */
.d-flex > * {
  transition: all 0.3s ease;
}

/* Responsive gaps */
@media (max-width: 768px) {
  .d-flex.flex-wrap {
    flex-direction: column;
  }
}`,
                            js: `// Flexbox interactivo
console.log('Flexbox lesson loaded!');

// Demostraci√≥n de cambio de direcci√≥n
let isColumn = false;

function toggleFlexDirection() {
  const flexContainer = document.querySelector('.d-flex.flex-wrap');
  if (flexContainer) {
    if (isColumn) {
      flexContainer.classList.remove('flex-column');
      flexContainer.classList.add('flex-row');
    } else {
      flexContainer.classList.remove('flex-row');
      flexContainer.classList.add('flex-column');
    }
    isColumn = !isColumn;
  }
}

// Cambiar direcci√≥n cada 4 segundos para demostraci√≥n
setInterval(toggleFlexDirection, 4000);

// Agregar interactividad a las cards
document.querySelectorAll('.flex-fill').forEach(card => {
  card.addEventListener('click', function() {
    this.style.transform = 'scale(1.05)';
    setTimeout(() => {
      this.style.transform = '';
    }, 200);
  });
});`
                        }
                    }
                }
            },
            components: {
                title: 'Componentes de Bootstrap',
                lessons: {
                    'navbar': {
                        title: 'Navbar Responsiva',
                        difficulty: 'Intermedio',
                        theory: `
                            <h6>üß≠ Navbar en Bootstrap</h6>
                            <p>La navbar es uno de los componentes m√°s importantes para la navegaci√≥n. Bootstrap 5 ofrece navbars completamente responsivas.</p>
                            
                            <h6>Estructura b√°sica:</h6>
                            <pre><code>&lt;nav class="navbar navbar-expand-lg navbar-dark bg-primary"&gt;
  &lt;div class="container"&gt;
    &lt;a class="navbar-brand" href="#"&gt;Brand&lt;/a&gt;
    &lt;button class="navbar-toggler"&gt;...&lt;/button&gt;
    &lt;div class="navbar-nav"&gt;...&lt;/div&gt;
  &lt;/div&gt;
&lt;/nav&gt;</code></pre>

                            <h6>Clases importantes:</h6>
                            <ul>
                                <li><code>.navbar-expand-{breakpoint}</code> - Cu√°ndo expandir</li>
                                <li><code>.navbar-dark</code> - Texto claro</li>
                                <li><code>.navbar-light</code> - Texto oscuro</li>
                                <li><code>.bg-{color}</code> - Color de fondo</li>
                                <li><code>.fixed-top</code> - Fija arriba</li>
                                <li><code>.sticky-top</code> - Pegajosa</li>
                            </ul>

                            <h6>Componentes de la navbar:</h6>
                            <ul>
                                <li><strong>Brand:</strong> Logo o nombre del sitio</li>
                                <li><strong>Toggler:</strong> Bot√≥n para m√≥viles</li>
                                <li><strong>Nav items:</strong> Enlaces de navegaci√≥n</li>
                                <li><strong>Dropdown:</strong> Men√∫s desplegables</li>
                                <li><strong>Forms:</strong> Formularios inline</li>
                            </ul>

                            <div class="alert alert-warning">
                                <strong>‚ö†Ô∏è Importante:</strong> No olvides incluir el JavaScript de Bootstrap para el funcionamiento del toggle.
                            </div>
                        `,
                        initialCode: {
                            html: `<!-- Navbar principal -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow">
  <div class="container">
    <!-- Brand -->
    <a class="navbar-brand fw-bold" href="#">
      <i class="fas fa-rocket me-2"></i>MiSitio
    </a>
    
    <!-- Toggle button para m√≥vil -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    
    <!-- Contenido de navegaci√≥n -->
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link active" href="#">Inicio</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Productos</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
            Servicios
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">Dise√±o Web</a></li>
            <li><a class="dropdown-item" href="#">Desarrollo</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#">Consultor√≠a</a></li>
          </ul>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Contacto</a>
        </li>
      </ul>
      
      <!-- Formulario de b√∫squeda -->
      <form class="d-flex me-3">
        <input class="form-control me-2" type="search" placeholder="Buscar...">
        <button class="btn btn-outline-light" type="submit">
          <i class="fas fa-search"></i>
        </button>
      </form>
      
      <!-- Botones de acci√≥n -->
      <div class="d-flex">
        <button class="btn btn-outline-light me-2">Login</button>
        <button class="btn btn-warning">Registro</button>
      </div>
    </div>
  </div>
</nav>

<!-- Contenido de ejemplo -->
<div class="container mt-4">
  <div class="alert alert-info">
    <h4 class="alert-heading">¬°Navbar Responsiva!</h4>
    <p>Esta navbar se adapta autom√°ticamente a diferentes tama√±os de pantalla. Prueba a redimensionar la ventana para ver c√≥mo se comporta.</p>
    <hr>
    <p class="mb-0">En m√≥viles, aparecer√° un bot√≥n hamburguesa que mostrar√°/ocultar√° el men√∫.</p>
  </div>
  
  <div class="row">
    <div class="col-md-8">
      <h2>Contenido Principal</h2>
      <p>Este es el contenido principal de la p√°gina. La navbar se mantiene en la parte superior y proporciona navegaci√≥n consistente.</p>
    </div>
    <div class="col-md-4">
      <div class="card">
        <div class="card-header">
          <h5>Sidebar</h5>
        </div>
        <div class="card-body">
          <p>Contenido lateral o informaci√≥n adicional.</p>
        </div>
      </div>
    </div>
  </div>
</div>`,
                            css: `/* Estilos personalizados para navbar */
.navbar-brand {
  font-size: 1.5rem;
}

.navbar-brand i {
  color: #ffc107;
}

/* Efecto hover en nav-links */
.nav-link:hover {
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 5px;
  transition: all 0.3s ease;
}

/* Estilo para el dropdown */
.dropdown-menu {
  border: none;
  box-shadow: 0 10px 25px rgba(0,0,0,0.1);
  border-radius: 10px;
}

.dropdown-item:hover {
  background-color: #007bff;
  color: white;
}

/* Efecto en el search */
.form-control:focus {
  border-color: #ffc107;
  box-shadow: 0 0 0 0.2rem rgba(255, 193, 7, 0.25);
}

/* Animaci√≥n para el toggle */
.navbar-toggler {
  border: none;
}

.navbar-toggler:focus {
  box-shadow: none;
}

/* Responsive adjustments */
@media (max-width: 991px) {
  .navbar-nav {
    margin-top: 1rem;
  }
  
  .d-flex.me-3 {
    margin: 1rem 0;
  }
}`,
                            js: `// JavaScript para navbar interactiva
console.log('Navbar lesson loaded!');

// Agregar efecto de scroll a la navbar
window.addEventListener('scroll', function() {
  const navbar = document.querySelector('.navbar');
  if (window.scrollY > 50) {
    navbar.classList.add('navbar-scrolled');
  } else {
    navbar.classList.remove('navbar-scrolled');
  }
});

// CSS din√°mico para el efecto scroll
const style = document.createElement('style');
style.textContent = \`
  .navbar-scrolled {
    background-color: rgba(13, 110, 253, 0.95) !important;
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
  }
\`;
document.head.appendChild(style);

// Cerrar dropdown al hacer click fuera
document.addEventListener('click', function(e) {
  const dropdowns = document.querySelectorAll('.dropdown-menu.show');
  dropdowns.forEach(dropdown => {
    if (!dropdown.parentElement.contains(e.target)) {
      const dropdownToggle = new bootstrap.Dropdown(dropdown.previousElementSibling);
      dropdownToggle.hide();
    }
  });
});

// Smooth scroll para enlaces
document.querySelectorAll('.nav-link').forEach(link => {
  link.addEventListener('click', function(e) {
    if (this.getAttribute('href').startsWith('#')) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        target.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    }
  });
});`
                        }
                    },
                    'cards': {
                        title: 'Cards Avanzadas',
                        difficulty: 'Intermedio',
                        theory: `
                            <h6>üÉè Cards en Bootstrap</h6>
                            <p>Las cards son contenedores flexibles y extensibles que pueden incluir headers, footers, im√°genes y mucho m√°s contenido.</p>
                            
                            <h6>Estructura b√°sica:</h6>
                            <pre><code>&lt;div class="card"&gt;
  &lt;div class="card-header"&gt;Header&lt;/div&gt;
  &lt;div class="card-body"&gt;
    &lt;h5 class="card-title"&gt;T√≠tulo&lt;/h5&gt;
    &lt;p class="card-text"&gt;Contenido&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class="card-footer"&gt;Footer&lt;/div&gt;
&lt;/div&gt;</code></pre>

                            <h6>Tipos de contenido:</h6>
                            <ul>
                                <li><strong>card-img-top:</strong> Imagen en la parte superior</li>
                                <li><strong>card-title:</strong> T√≠tulo principal</li>
                                <li><strong>card-subtitle:</strong> Subt√≠tulo</li>
                                <li><strong>card-text:</strong> Texto del contenido</li>
                                <li><strong>card-link:</strong> Enlaces</li>
                            </ul>

                            <h6>Variaciones:</h6>
                            <ul>
                                <li><code>.card-group</code> - Agrupa cards</li>
                                <li><code>.card-deck</code> - Cards con igual altura</li>
                                <li><code>.card-columns</code> - Layout tipo masonry</li>
                                <li><code>.border-{color}</code> - Bordes coloreados</li>
                                <li><code>.text-{color}</code> - Colores de texto</li>
                            </ul>

                            <div class="alert alert-success">
                                <strong>üí° Pro Tip:</strong> Combina cards con el sistema de grillas para crear layouts responsive incre√≠bles.
                            </div>
                        `,
                        initialCode: {
                            html: `<div class="container">
  <!-- Row 1: Cards b√°sicas -->
  <div class="row mb-4">
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm">
        <img src="https://picsum.photos/400/200?random=1" class="card-img-top" alt="Imagen">
        <div class="card-body">
          <h5 class="card-title">Card con Imagen</h5>
          <p class="card-text">Esta card incluye una imagen en la parte superior y contenido textual.</p>
          <a href="#" class="btn btn-primary">Ver m√°s</a>
        </div>
      </div>
    </div>
    
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm border-success">
        <div class="card-header bg-success text-white">
          <i class="fas fa-check-circle me-2"></i>Featured
        </div>
        <div class="card-body">
          <h5 class="card-title text-success">Card con Header</h5>
          <p class="card-text">Card destacada con header coloreado y borde verde.</p>
          <span class="badge bg-success">Nuevo</span>
        </div>
        <div class="card-footer text-muted">
          <small>Actualizado hace 2 mins</small>
        </div>
      </div>
    </div>
    
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm bg-primary text-white">
        <div class="card-body text-center">
          <i class="fas fa-star fa-3x mb-3"></i>
          <h5 class="card-title">Card Especial</h5>
          <p class="card-text">Card con fondo coloreado y texto centrado.</p>
          <button class="btn btn-light">Acci√≥n</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Row 2: Cards avanzadas -->
  <div class="row mb-4">
    <div class="col-md-6 mb-4">
      <div class="card shadow-lg">
        <div class="row g-0">
          <div class="col-md-4">
            <img src="https://picsum.photos/200/200?random=2" class="img-fluid rounded-start h-100 object-fit-cover" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">Card Horizontal</h5>
              <p class="card-text">Esta card tiene un layout horizontal con imagen a la izquierda.</p>
              <p class="card-text"><small class="text-muted">√öltima actualizaci√≥n hace 3 mins</small></p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="col-md-6 mb-4">
      <div class="card shadow-lg">
        <div class="card-header">
          <ul class="nav nav-tabs card-header-tabs">
            <li class="nav-item">
              <a class="nav-link active" href="#" data-tab="tab1">Tab 1</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-tab="tab2">Tab 2</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-tab="tab3">Tab 3</a>
            </li>
          </ul>
        </div>
        <div class="card-body">
          <div class="tab-content">
            <div class="tab-pane active" id="tab1">
              <h5 class="card-title">Contenido Tab 1</h5>
              <p class="card-text">Este es el contenido del primer tab.</p>
            </div>
            <div class="tab-pane" id="tab2">
              <h5 class="card-title">Contenido Tab 2</h5>
              <p class="card-text">Contenido del segundo tab con informaci√≥n diferente.</p>
            </div>
            <div class="tab-pane" id="tab3">
              <h5 class="card-title">Contenido Tab 3</h5>
              <p class="card-text">Tercer tab con m√°s opciones y funcionalidades.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Row 3: Card interactiva -->
  <div class="row">
    <div class="col-md-8 mx-auto">
      <div class="card shadow-lg border-0">
        <div class="card-header bg-gradient text-white text-center" style="background: linear-gradient(45deg, #007bff, #6f42c1);">
          <h4 class="mb-0"><i class="fas fa-cog me-2"></i>Card Interactiva</h4>
        </div>
        <div class="card-body p-4">
          <div class="row">
            <div class="col-md-6">
              <h5>Controles</h5>
              <div class="mb-3">
                <label class="form-label">Color de fondo:</label>
                <select class="form-select" id="bgColorSelect">
                  <option value="bg-light">Claro</option>
                  <option value="bg-primary">Primario</option>
                  <option value="bg-success">√âxito</option>
                  <option value="bg-danger">Peligro</option>
                  <option value="bg-warning">Advertencia</option>
                </select>
              </div>
              <div class="mb-3">
                <label class="form-label">Tama√±o de texto:</label>
                <input type="range" class="form-range" id="textSizeRange" min="12" max="24" value="16">
              </div>
              <button class="btn btn-success" onclick="animateCard()">
                <i class="fas fa-magic me-2"></i>Animar
              </button>
            </div>
            <div class="col-md-6">
              <div id="previewCard" class="card bg-light h-100">
                <div class="card-body text-center">
                  <h5>Vista Previa</h5>
                  <p id="previewText">Este texto cambia de tama√±o din√°micamente.</p>
                  <span class="badge bg-info">Interactivo</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
`

// CSS para Cards
const cardsCSS = `
/* Estilos para cards avanzadas */
.card {
  transition: all 0.3s ease;
  border: none;
}

.card:hover {
  transform: translateY(-5px);
}

.shadow-lg {
  box-shadow: 0 1rem 3rem rgba(0,0,0,.175) !important;
}

/* Efectos para im√°genes */
.card-img-top {
  transition: transform 0.3s ease;
}

.card:hover .card-img-top {
  transform: scale(1.05);
}

/* Tabs en cards */
.nav-tabs .nav-link {
  border: none;
  color: #6c757d;
}

.nav-tabs .nav-link.active {
  background-color: transparent;
  border-bottom: 3px solid #007bff;
  color: #007bff;
  font-weight: bold;
}

.tab-pane {
  display: none;
}

.tab-pane.active {
  display: block;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Card horizontal */
.object-fit-cover {
  object-fit: cover;
}

/* Animaciones personalizadas */
@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

.animate-pulse {
  animation: pulse 0.6s ease;
}

/* Gradientes */
.bg-gradient {
  background: linear-gradient(45deg, #007bff, #6f42c1) !important;
}

/* Responsive */
@media (max-width: 768px) {
  .card-body {
    padding: 1rem;
  }
}
`;

// JavaScript para Cards interactivas
const cardsJS = `
console.log('Cards lesson loaded!');

// Funci√≥n para cambiar tabs
function switchTab(tabId) {
  // Ocultar todos los tabs
  document.querySelectorAll('.tab-pane').forEach(pane => {
    pane.classList.remove('active');
  });
  
  // Remover active de todos los nav-links
  document.querySelectorAll('.nav-tabs .nav-link').forEach(link => {
    link.classList.remove('active');
  });
  
  // Mostrar el tab seleccionado
  document.getElementById(tabId).classList.add('active');
  document.querySelector('[data-tab="' + tabId + '"]').classList.add('active');
}

// Event listeners para tabs
document.querySelectorAll('.nav-tabs .nav-link').forEach(link => {
  link.addEventListener('click', function(e) {
    e.preventDefault();
    const tabId = this.getAttribute('data-tab');
    switchTab(tabId);
  });
});

// Controles interactivos
const bgColorSelect = document.getElementById('bgColorSelect');
const textSizeRange = document.getElementById('textSizeRange');
const previewCard = document.getElementById('previewCard');
const previewText = document.getElementById('previewText');

if (bgColorSelect) {
  bgColorSelect.addEventListener('change', function() {
    // Remover clases de color previas
    previewCard.className = previewCard.className.replace(/bg-\\w+/g, '');
    previewCard.classList.add(this.value);
    
    // Ajustar color de texto seg√∫n el fondo
    if (this.value === 'bg-light') {
      previewCard.classList.add('text-dark');
      previewCard.classList.remove('text-white');
    } else {
      previewCard.classList.add('text-white');
      previewCard.classList.remove('text-dark');
    }
  });
}

if (textSizeRange) {
  textSizeRange.addEventListener('input', function() {
    if (previewText) {
      previewText.style.fontSize = this.value + 'px';
    }
  });
}

// Funci√≥n para animar card
function animateCard() {
  const card = document.getElementById('previewCard');
  if (card) {
    card.classList.add('animate-pulse');
    setTimeout(() => {
      card.classList.remove('animate-pulse');
    }, 600);
  }
}

// Efecto de hover 3D para cards
document.querySelectorAll('.card').forEach(card => {
  card.addEventListener('mouseenter', function() {
    this.style.transform = 'perspective(1000px) rotateX(5deg) rotateY(5deg)';
  });
  
  card.addEventListener('mouseleave', function() {
    this.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg)';
  });
});

// Lazy loading para im√°genes
if ('IntersectionObserver' in window) {
  const imageObserver = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const img = entry.target;
        img.src = img.dataset.src || img.src;
        img.classList.remove('lazy');
        observer.unobserve(img);
      }
    });
  });

  document.querySelectorAll('img[data-src]').forEach(img => {
    imageObserver.observe(img);
  });
}
`;

// Continuar con m√°s lecciones...

const modalLesson = {
  title: 'Modals Interactivos',
  difficulty: 'Avanzado',
  theory: `
    <h6>ü™ü Modals en Bootstrap</h6>
    <p>Los modals son ventanas superpuestas que se utilizan para mostrar contenido adicional sin abandonar la p√°gina actual.</p>
    
    <h6>Estructura b√°sica:</h6>
    <pre><code>&lt;div class="modal fade" id="exampleModal"&gt;
  &lt;div class="modal-dialog"&gt;
    &lt;div class="modal-content"&gt;
      &lt;div class="modal-header"&gt;
        &lt;h5 class="modal-title"&gt;T√≠tulo&lt;/h5&gt;
        &lt;button type="button" class="btn-close" data-bs-dismiss="modal"&gt;&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class="modal-body"&gt;
        Contenido del modal
      &lt;/div&gt;
      &lt;div class="modal-footer"&gt;
        &lt;button type="button" class="btn btn-primary"&gt;Guardar&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>

    <h6>Tama√±os de modal:</h6>
    <ul>
      <li><code>.modal-sm</code> - Peque√±o</li>
      <li><code>.modal-lg</code> - Grande</li>
      <li><code>.modal-xl</code> - Extra grande</li>
      <li><code>.modal-fullscreen</code> - Pantalla completa</li>
    </ul>

    <h6>Opciones avanzadas:</h6>
    <ul>
      <li><strong>Centrado vertical:</strong> <code>.modal-dialog-centered</code></li>
      <li><strong>Scrollable:</strong> <code>.modal-dialog-scrollable</code></li>
      <li><strong>Sin animaci√≥n:</strong> Remover clase <code>.fade</code></li>
    </ul>

    <div class="alert alert-warning">
      <strong>‚ö†Ô∏è Importante:</strong> Los modals requieren JavaScript para funcionar correctamente.
    </div>
  `,
  initialCode: {
    html: `<div class="container">
  <!-- Botones para abrir diferentes modals -->
  <div class="row mb-4">
    <div class="col-12 text-center">
      <h2 class="mb-4">Modals Interactivos</h2>
      <button class="btn btn-primary me-2" data-bs-toggle="modal" data-bs-target="#basicModal">
        Modal B√°sico
      </button>
      <button class="btn btn-success me-2" data-bs-toggle="modal" data-bs-target="#formModal">
        Modal con Formulario
      </button>
      <button class="btn btn-warning me-2" data-bs-toggle="modal" data-bs-target="#imageModal">
        Galer√≠a de Im√°genes
      </button>
      <button class="btn btn-danger" onclick="openCustomModal()">
        Modal Personalizado
      </button>
    </div>
  </div>

  <!-- Contenido de ejemplo -->
  <div class="alert alert-info">
    <h4 class="alert-heading">¬°Explora los Modals!</h4>
    <p>Haz clic en los botones de arriba para ver diferentes tipos de modals en acci√≥n.</p>
  </div>
</div>

<!-- Modal B√°sico -->
<div class="modal fade" id="basicModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title">
          <i class="fas fa-info-circle me-2"></i>Modal B√°sico
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <p>Este es un modal b√°sico con contenido simple.</p>
        <p>Los modals son perfectos para mostrar informaci√≥n adicional, confirmaciones o formularios sin salir de la p√°gina actual.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary">Entendido</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal con Formulario -->
<div class="modal fade" id="formModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header bg-success text-white">
        <h5 class="modal-title">
          <i class="fas fa-user-plus me-2"></i>Registro de Usuario
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="userForm">
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="firstName" class="form-label">Nombre</label>
              <input type="text" class="form-control" id="firstName" required>
            </div>
            <div class="col-md-6 mb-3">
              <label for="lastName" class="form-label">Apellido</label>
              <input type="text" class="form-control" id="lastName" required>
            </div>
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" required>
          </div>
          <div class="mb-3">
            <label for="phone" class="form-label">Tel√©fono</label>
            <input type="tel" class="form-control" id="phone">
          </div>
          <div class="mb-3">
            <label for="message" class="form-label">Mensaje</label>
            <textarea class="form-control" id="message" rows="3"></textarea>
          </div>
          <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" id="acceptTerms" required>
            <label class="form-check-label" for="acceptTerms">
              Acepto los t√©rminos y condiciones
            </label>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-success" onclick="submitForm()">
          <i class="fas fa-save me-2"></i>Registrar
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Galer√≠a -->
<div class="modal fade" id="imageModal" tabindex="-1">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header bg-warning text-dark">
        <h5 class="modal-title">
          <i class="fas fa-images me-2"></i>Galer√≠a de Im√°genes
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body p-0">
        <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="https://picsum.photos/800/400?random=1" class="d-block w-100" alt="Imagen 1">
              <div class="carousel-caption d-none d-md-block">
                <h5>Primera Imagen</h5>
                <p>Descripci√≥n de la primera imagen.</p>
              </div>
            </div>
            <div class="carousel-item">
              <img src="https://picsum.photos/800/400?random=2" class="d-block w-100" alt="Imagen 2">
              <div class="carousel-caption d-none d-md-block">
                <h5>Segunda Imagen</h5>
                <p>Descripci√≥n de la segunda imagen.</p>
              </div>
            </div>
            <div class="carousel-item">
              <img src="https://picsum.photos/800/400?random=3" class="d-block w-100" alt="Imagen 3">
              <div class="carousel-caption d-none d-md-block">
                <h5>Tercera Imagen</h5>
                <p>Descripci√≥n de la tercera imagen.</p>
              </div>
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
            <span class="visually-hidden">Anterior</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
            <span class="visually-hidden">Siguiente</span>
          </button>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-warning" onclick="downloadImage()">
          <i class="fas fa-download me-2"></i>Descargar
        </button>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal Personalizado (creado din√°micamente) -->
<div id="customModalContainer"></div>`,
    css: `/* Estilos para modals personalizados */
.modal-content {
  border: none;
  border-radius: 15px;
  overflow: hidden;
}

.modal-header {
  border-bottom: none;
  padding: 1.5rem;
}

.modal-footer {
  border-top: none;
  padding: 1.5rem;
}

/* Animaciones personalizadas */
.modal.fade .modal-dialog {
  transition: all 0.3s ease-out;
  transform: translate(0, -50px) scale(0.9);
}

.modal.show .modal-dialog {
  transform: translate(0, 0) scale(1);
}

/* Efectos para el carousel en modal */
.carousel-item img {
  height: 400px;
  object-fit: cover;
}

.carousel-caption {
  background: rgba(0, 0, 0, 0.7);
  border-radius: 10px;
  padding: 1rem;
}

/* Modal personalizado */
.custom-modal {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
}

.custom-modal .modal-content {
  background: transparent;
  border: 2px solid rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
}

/* Responsive */
@media (max-width: 768px) {
  .modal-lg, .modal-xl {
    max-width: 95%;
  }
  
  .carousel-item img {
    height: 250px;
  }
}

/* Loading spinner */
.loading-spinner {
  border: 4px solid #f3f3f3;
  border-top: 4px solid #007bff;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
  margin: 20px auto;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}`,
    js: `console.log('Modals lesson loaded!');

// Funci√≥n para enviar formulario
function submitForm() {
  const form = document.getElementById('userForm');
  if (form.checkValidity()) {
    // Simular env√≠o
    const submitBtn = event.target;
    const originalText = submitBtn.innerHTML;
    
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Enviando...';
    submitBtn.disabled = true;
    
    setTimeout(() => {
      submitBtn.innerHTML = '<i class="fas fa-check me-2"></i>Registrado!';
      submitBtn.classList.remove('btn-success');
      submitBtn.classList.add('btn-success');
      
      setTimeout(() => {
        const modal = bootstrap.Modal.getInstance(document.getElementById('formModal'));
        modal.hide();
        form.reset();
        submitBtn.innerHTML = originalText;
        submitBtn.disabled = false;
      }, 1500);
    }, 2000);
  } else {
    form.reportValidity();
  }
}

// Funci√≥n para descargar imagen (simulada)
function downloadImage() {
  const activeSlide = document.querySelector('.carousel-item.active img');
  const imageSrc = activeSlide.src;
  
  // Simular descarga
  const link = document.createElement('a');
  link.href = imageSrc;
  link.download = 'imagen-' + Date.now() + '.jpg';
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
  
  // Mostrar mensaje
  const btn = event.target;
  const originalText = btn.innerHTML;
  btn.innerHTML = '<i class="fas fa-check me-2"></i>¬°Descargado!';
  setTimeout(() => {
    btn.innerHTML = originalText;
  }, 2000);
}

// Funci√≥n para crear modal personalizado
function openCustomModal() {
  const modalHTML = \`
    <div class="modal fade custom-modal" id="customModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              <i class="fas fa-magic me-2"></i>Modal M√°gico
            </h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body text-center">
            <div class="mb-4">
              <i class="fas fa-star fa-3x text-warning mb-3"></i>
              <h4>¬°Modal creado din√°micamente!</h4>
              <p>Este modal fue generado completamente con JavaScript.</p>
            </div>
            <div class="d-flex justify-content-center gap-2 mb-3">
              <button class="btn btn-warning btn-sm" onclick="changeModalColor('warning')">Amarillo</button>
              <button class="btn btn-danger btn-sm" onclick="changeModalColor('danger')">Rojo</button>
              <button class="btn btn-success btn-sm" onclick="changeModalColor('success')">Verde</button>
            </div>
            <div class="progress mb-3">
              <div class="progress-bar progress-bar-striped progress-bar-animated" 
                   style="width: 0%" id="magicProgress"></div>
            </div>
            <button class="btn btn-light" onclick="startMagic()">
              <i class="fas fa-wand-magic me-2"></i>Hacer Magia
            </button>
          </div>
        </div>
      </div>
    </div>
  \`;
  
  const container = document.getElementById('customModalContainer');
  container.innerHTML = modalHTML;
  
  const modal = new bootstrap.Modal(document.getElementById('customModal'));
  modal.show();
  
  // Limpiar cuando se cierre
  document.getElementById('customModal').addEventListener('hidden.bs.modal', function() {
    container.innerHTML = '';
  });
}

// Funci√≥n para cambiar color del modal
function changeModalColor(color) {
  const modal = document.querySelector('#customModal .modal-content');
  modal.className = 'modal-content';
  modal.style.background = \`var(--bs-\${color})\`;
}

// Funci√≥n de magia
function startMagic() {
  const progressBar = document.getElementById('magicProgress');
  let width = 0;
  
  const interval = setInterval(() => {
    width += 10;
    progressBar.style.width = width + '%';
    
    if (width >= 100) {
      clearInterval(interval);
      setTimeout(() => {
        progressBar.style.width = '0%';
        showMagicEffect();
      }, 500);
    }
  }, 100);
}

// Efecto m√°gico
function showMagicEffect() {
  const modalBody = document.querySelector('#customModal .modal-body');
  modalBody.innerHTML = \`
    <div class="text-center">
      <div class="mb-4" style="font-size: 4rem;">‚ú®üéâ‚ú®</div>
      <h3>¬°Magia realizada!</h3>
      <p>Has completado el tutorial de modals con √©xito.</p>
      <button class="btn btn-warning" data-bs-dismiss="modal">
        <i class="fas fa-trophy me-2"></i>¬°Genial!
      </button>
    </div>
  \`;
}

// Event listeners para mejorar la experiencia
document.addEventListener('DOMContentLoaded', function() {
  // Autoplay del carousel cuando se abre el modal
  document.getElementById('imageModal').addEventListener('shown.bs.modal', function() {
    const carousel = new bootstrap.Carousel(document.getElementById('carouselExample'), {
      interval: 3000,
      wrap: true
    });
  });
  
  // Focus en el primer campo cuando se abre el modal de formulario
  document.getElementById('formModal').addEventListener('shown.bs.modal', function() {
    document.getElementById('firstName').focus();
  });
});`
};

// Funci√≥n principal del sistema de lecciones
function initializeLessons() {
  console.log('Sistema de lecciones inicializado');
  
  // Cargar progreso del localStorage
  const savedProgress = localStorage.getItem('bootstrapAcademyProgress');
  if (savedProgress) {
    userProgress = JSON.parse(savedProgress);
    updateProgressDisplay();
  }
}

// Funci√≥n para mostrar categor√≠a
function showCategory(categoryId) {
  currentCategory = categoryId;
  document.getElementById('main-menu').style.display = 'none';
  document.getElementById('category-view').style.display = 'block';
  
  const category = lessonCategories[categoryId];
  document.getElementById('category-title').textContent = category.title;
  
  const lessonsGrid = document.getElementById('lessons-grid');
  lessonsGrid.innerHTML = '';
  
  Object.keys(category.lessons).forEach(lessonId => {
    const lesson = category.lessons[lessonId];
    const isCompleted = userProgress.completedLessons.includes(lessonId);
    
    const lessonCard = `
      <div class="col-md-6 col-lg-4 mb-4">
        <div class="lesson-card h-100 ${isCompleted ? 'border-success' : ''}" onclick="startLesson('${lessonId}')">
          <div class="card-body p-4">
            <div class="d-flex justify-content-between align-items-start mb-3">
              <h5 class="card-title">${lesson.title}</h5>
              ${isCompleted ? '<i class="fas fa-check-circle text-success"></i>' : ''}
            </div>
            <span class="badge ${getDifficultyColor(lesson.difficulty)} mb-3">${lesson.difficulty}</span>
            <p class="card-text text-muted">Aprende sobre ${lesson.title.toLowerCase()} con ejemplos pr√°cticos.</p>
            <div class="mt-auto">
              <div class="d-flex justify-content-between align-items-center">
                <small class="text-muted">
                  <i class="fas fa-clock me-1"></i>15-20 min
                </small>
                <button class="btn btn-sm btn-outline-primary">
                  ${isCompleted ? 'Repasar' : 'Comenzar'}
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    `;
    lessonsGrid.innerHTML += lessonCard;
  });
}

// Funciones de utilidad
// Continuaci√≥n del sistema Bootstrap Academy

function getDifficultyColor(difficulty) {
  switch(difficulty) {
    case 'Principiante': return 'bg-success';
    case 'Intermedio': return 'bg-warning';
    case 'Avanzado': return 'bg-danger';
    default: return 'bg-secondary';
  }
}

// Funci√≥n para iniciar una lecci√≥n
function startLesson(lessonId) {
  currentLesson = lessonId;
  
  // Encontrar la lecci√≥n en las categor√≠as
  let lesson = null;
  for (const categoryId in lessonCategories) {
    if (lessonCategories[categoryId].lessons[lessonId]) {
      lesson = lessonCategories[categoryId].lessons[lessonId];
      break;
    }
  }
  
  if (!lesson) return;
  
  // Mostrar vista de lecci√≥n
  document.getElementById('category-view').style.display = 'none';
  document.getElementById('lesson-view').style.display = 'block';
  
  // Cargar contenido
  document.getElementById('lesson-title').textContent = lesson.title;
  document.getElementById('lesson-difficulty').textContent = lesson.difficulty;
  document.getElementById('lesson-difficulty').className = `badge ${getDifficultyColor(lesson.difficulty)} me-2`;
  document.getElementById('theory-content').innerHTML = lesson.theory;
  
  // Cargar c√≥digo inicial
  document.getElementById('html-code').value = lesson.initialCode.html || '';
  document.getElementById('css-code').value = lesson.initialCode.css || '';
  document.getElementById('js-code').value = lesson.initialCode.js || '';
  
  // Ejecutar c√≥digo inicial
  runCode();
  
  // Mostrar controles interactivos si existen
  if (lesson.interactiveControls) {
    showInteractiveControls(lesson.interactiveControls);
  }
  
  // Mostrar desaf√≠os si existen
  if (lesson.challenges) {
    showLessonChallenges(lesson.challenges);
  }
  
  // Mostrar bot√≥n de completar si no est√° completada
  const isCompleted = userProgress.completedLessons.includes(lessonId);
  if (!isCompleted) {
    document.getElementById('complete-lesson').style.display = 'block';
  }
}

// Sistema de tabs para el editor
function switchTab(tabType) {
  // Ocultar todos los editores
  document.getElementById('html-editor').style.display = 'none';
  document.getElementById('css-editor').style.display = 'none';
  document.getElementById('js-editor').style.display = 'none';
  
  // Remover clase active de todos los tabs
  document.querySelectorAll('.editor-tab').forEach(tab => {
    tab.classList.remove('active');
  });
  
  // Mostrar editor seleccionado
  document.getElementById(tabType + '-editor').style.display = 'block';
  document.querySelector(`.editor-tab[onclick="switchTab('${tabType}')"]`).classList.add('active');
}

// Funci√≥n para ejecutar c√≥digo
function runCode() {
  const htmlCode = document.getElementById('html-code').value;
  const cssCode = document.getElementById('css-code').value;
  const jsCode = document.getElementById('js-code').value;
  
  const fullCode = `
    <!DOCTYPE html>
    <html lang="es">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
      <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
      <style>
        body { 
          font-family: system-ui, -apple-system, sans-serif; 
          padding: 10px;
        }
        ${cssCode}
      </style>
    </head>
    <body>
      ${htmlCode}
      <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
      <script>
        try {
          ${jsCode}
        } catch (error) {
          console.error('Error en JavaScript:', error);
          document.body.innerHTML += '<div class="alert alert-danger mt-3"><strong>Error JavaScript:</strong> ' + error.message + '</div>';
        }
      </script>
    </body>
    </html>
  `;
  
  const iframe = document.getElementById('preview-frame');
  iframe.srcdoc = fullCode;
}

// Funci√≥n para resetear c√≥digo
function resetCode() {
  // Encontrar la lecci√≥n actual
  let lesson = null;
  for (const categoryId in lessonCategories) {
    if (lessonCategories[categoryId].lessons[currentLesson]) {
      lesson = lessonCategories[categoryId].lessons[currentLesson];
      break;
    }
  }
  
  if (lesson) {
    document.getElementById('html-code').value = lesson.initialCode.html || '';
    document.getElementById('css-code').value = lesson.initialCode.css || '';
    document.getElementById('js-code').value = lesson.initialCode.js || '';
    runCode();
  }
}

// Sistema de controles interactivos
function showInteractiveControls(controls) {
  const controlsContainer = document.getElementById('controls-content');
  const interactiveSection = document.getElementById('interactive-controls');
  
  controlsContainer.innerHTML = '';
  
  controls.forEach(control => {
    let controlHTML = '';
    
    switch (control.type) {
      case 'slider':
        controlHTML = `
          <div class="slider-control">
            <label class="form-label">${control.label}: <span id="${control.id}-value">${control.value}</span></label>
            <input type="range" class="form-range" id="${control.id}" 
                   min="${control.min}" max="${control.max}" value="${control.value}"
                   oninput="document.getElementById('${control.id}-value').textContent = this.value; updateCodeFromControls()">
          </div>
        `;
        break;
        
      case 'select':
        controlHTML = `
          <div class="mb-3">
            <label class="form-label">${control.label}</label>
            <select class="form-select" id="${control.id}" onchange="updateCodeFromControls()">
              ${control.options.map(option => `<option value="${option}">${option}</option>`).join('')}
            </select>
          </div>
        `;
        break;
        
      case 'color':
        controlHTML = `
          <div class="mb-3">
            <label class="form-label">${control.label}</label>
            <input type="color" class="color-picker" id="${control.id}" 
                   value="${control.value || '#007bff'}" onchange="updateCodeFromControls()">
          </div>
        `;
        break;
    }
    
    controlsContainer.innerHTML += controlHTML;
  });
  
  interactiveSection.style.display = 'block';
}

// Funci√≥n para actualizar c√≥digo desde controles
function updateCodeFromControls() {
  // Esta funci√≥n se puede personalizar seg√∫n la lecci√≥n
  console.log('Controles actualizados');
  runCode();
}

// Sistema de desaf√≠os
function showLessonChallenges(challenges) {
  const challengesContainer = document.getElementById('challenges-container');
  const challengesSection = document.getElementById('lesson-challenges');
  
  challengesContainer.innerHTML = '';
  
  challenges.forEach((challenge, index) => {
    const isCompleted = userProgress.completedLessons.includes(challenge.id);
    
    const challengeHTML = `
      <div class="challenge-card ${isCompleted ? 'completed' : ''} mb-3">
        <div class="card">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start">
              <div>
                <h6 class="card-title">
                  <i class="fas fa-dumbbell me-2"></i>${challenge.title}
                  ${isCompleted ? '<i class="fas fa-check-circle text-success ms-2"></i>' : ''}
                </h6>
                <p class="card-text">${challenge.description}</p>
              </div>
              <span class="badge bg-warning">+${challenge.points} pts</span>
            </div>
            <button class="btn btn-outline-primary btn-sm" onclick="startChallenge('${challenge.id}')">
              ${isCompleted ? 'Ver Soluci√≥n' : 'Intentar'}
            </button>
          </div>
        </div>
      </div>
    `;
    
    challengesContainer.innerHTML += challengeHTML;
  });
  
  challengesSection.style.display = 'block';
}

// Funci√≥n para completar lecci√≥n
function completeLesson() {
  if (!userProgress.completedLessons.includes(currentLesson)) {
    userProgress.completedLessons.push(currentLesson);
    userProgress.points += 100;
    userProgress.currentStreak++;
    
    // Verificar logros
    checkAchievements();
    
    // Guardar progreso
    saveProgress();
    
    // Actualizar UI
    updateProgressDisplay();
    
    // Mostrar notificaci√≥n de logro
    showAchievement('¬°Lecci√≥n completada!', `Has ganado 100 puntos. Racha actual: ${userProgress.currentStreak}`);
    
    // Ocultar bot√≥n
    document.getElementById('complete-lesson').style.display = 'none';
  }
}

// Sistema de logros
function checkAchievements() {
  const achievements = [
    {
      id: 'first-lesson',
      name: 'Primer Paso',
      description: 'Completa tu primera lecci√≥n',
      condition: () => userProgress.completedLessons.length >= 1,
      points: 50
    },
    {
      id: 'five-lessons',
      name: 'Estudiante Dedicado',
      description: 'Completa 5 lecciones',
      condition: () => userProgress.completedLessons.length >= 5,
      points: 200
    },
    {
      id: 'streak-3',
      name: 'En Racha',
      description: 'Completa 3 lecciones seguidas',
      condition: () => userProgress.currentStreak >= 3,
      points: 150
    },
    {
      id: 'points-500',
      name: 'Acumulador',
      description: 'Acumula 500 puntos',
      condition: () => userProgress.points >= 500,
      points: 100
    }
  ];
  
  achievements.forEach(achievement => {
    if (!userProgress.achievements.includes(achievement.id) && achievement.condition()) {
      userProgress.achievements.push(achievement.id);
      userProgress.points += achievement.points;
      showAchievement(achievement.name, achievement.description);
    }
  });
}

// Mostrar notificaci√≥n de logro
function showAchievement(title, description) {
  const badge = document.getElementById('achievement-badge');
  const text = document.getElementById('achievement-text');
  
  text.innerHTML = `<strong>${title}</strong><br><small>${description}</small>`;
  badge.classList.add('show');
  
  setTimeout(() => {
    badge.classList.remove('show');
  }, 5000);
}

// Sistema de progreso
function updateProgressDisplay() {
  const totalLessons = Object.values(lessonCategories).reduce((total, category) => {
    return total + Object.keys(category.lessons).length;
  }, 0);
  
  const completedCount = userProgress.completedLessons.length;
  const percentage = Math.round((completedCount / totalLessons) * 100);
  
  // Actualizar textos
  document.getElementById('progress-percentage').textContent = percentage + '%';
  document.getElementById('circle-percentage').textContent = percentage + '%';
  document.getElementById('achievements-count').textContent = userProgress.achievements.length;
  document.getElementById('points-count').textContent = userProgress.points;
  
  // Actualizar c√≠rculo de progreso
  const progressCircle = document.getElementById('progress-circle');
  const circumference = 2 * Math.PI * 50; // radio = 50
  const strokeDasharray = (percentage / 100) * circumference;
  progressCircle.style.strokeDasharray = `${strokeDasharray} ${circumference}`;
}

// Guardar progreso
function saveProgress() {
  localStorage.setItem('bootstrapAcademyProgress', JSON.stringify(userProgress));
}

// Playground functions
function openPlayground() {
  document.getElementById('main-menu').style.display = 'none';
  document.getElementById('playground-view').style.display = 'block';
  
  // C√≥digo inicial del playground
  const initialHTML = `<div class="container mt-4">
  <div class="row">
    <div class="col-12 text-center">
      <h1 class="display-4 text-primary">¬°Bootstrap Playground!</h1>
      <p class="lead">Experimenta libremente con Bootstrap</p>
      <button class="btn btn-primary btn-lg">¬°Empezar a crear!</button>
    </div>
  </div>
</div>`;

  document.getElementById('playground-html-code').value = initialHTML;
  document.getElementById('playground-css-code').value = '/* Tu CSS personalizado aqu√≠ */\n\n';
  document.getElementById('playground-js-code').value = '// Tu JavaScript aqu√≠\nconsole.log("¬°Playground listo!");';
  
  runPlaygroundCode();
}

function switchPlaygroundTab(tabType) {
  document.getElementById('playground-html-editor').style.display = 'none';
  document.getElementById('playground-css-editor').style.display = 'none';
  document.getElementById('playground-js-editor').style.display = 'none';
  
  document.querySelectorAll('#playground-view .editor-tab').forEach(tab => {
    tab.classList.remove('active');
  });
  
  document.getElementById('playground-' + tabType + '-editor').style.display = 'block';
  document.querySelector(`#playground-view .editor-tab[onclick="switchPlaygroundTab('${tabType}')"]`).classList.add('active');
}

function runPlaygroundCode() {
  const htmlCode = document.getElementById('playground-html-code').value;
  const cssCode = document.getElementById('playground-css-code').value;
  const jsCode = document.getElementById('playground-js-code').value;
  
  const fullCode = `
    <!DOCTYPE html>
    <html lang="es">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
      <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
      <style>
        body { 
          font-family: system-ui, -apple-system, sans-serif; 
        }
        ${cssCode}
      </style>
    </head>
    <body>
      ${htmlCode}
      <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
      <script>
        try {
          ${jsCode}
        } catch (error) {
          console.error('Error en JavaScript:', error);
        }
      </script>
    </body>
    </html>
  `;
  
  const iframe = document.getElementById('playground-preview');
  iframe.srcdoc = fullCode;
}

// Funciones para agregar componentes al playground
function addComponent(componentType) {
  const htmlTextarea = document.getElementById('playground-html-code');
  let componentCode = '';
  
  switch (componentType) {
    case 'button':
      componentCode = `
<!-- Bot√≥n Bootstrap -->
<button class="btn btn-primary">Mi Bot√≥n</button>
<button class="btn btn-outline-secondary ms-2">Bot√≥n Outline</button>
`;
      break;
      
    case 'card':
      componentCode = `
<!-- Card Bootstrap -->
<div class="card" style="width: 18rem;">
  <div class="card-body">
    <h5 class="card-title">T√≠tulo de la Card</h5>
    <p class="card-text">Contenido de la card con texto de ejemplo.</p>
    <a href="#" class="btn btn-primary">Ir a alg√∫n lugar</a>
  </div>
</div>
`;
      break;
      
    case 'navbar':
      componentCode = `
<!-- Navbar Bootstrap -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container">
    <a class="navbar-brand" href="#">Navbar</a>
    <div class="navbar-nav">
      <a class="nav-link active" href="#">Inicio</a>
      <a class="nav-link" href="#">Productos</a>
      <a class="nav-link" href="#">Contacto</a>
    </div>
  </div>
</nav>
`;
      break;
      
    case 'modal':
      componentCode = `
<!-- Bot√≥n para abrir modal -->
<button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#miModal">
  Abrir Modal
</button>

<!-- Modal -->
<div class="modal fade" id="miModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">T√≠tulo del Modal</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <p>Contenido del modal aqu√≠.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary">Guardar</button>
      </div>
    </div>
  </div>
</div>
`;
      break;
  }
  
  htmlTextarea.value += '\n' + componentCode;
  runPlaygroundCode();
}

// Funciones de navegaci√≥n
function backToMenu() {
  document.getElementById('lesson-view').style.display = 'none';
  document.getElementById('category-view').style.display = 'none';
  document.getElementById('playground-view').style.display = 'none';
  document.getElementById('challenges-view').style.display = 'none';
  document.getElementById('main-menu').style.display = 'block';
  currentView = 'main-menu';
}

function backToCategory() {
  document.getElementById('lesson-view').style.display = 'none';
  document.getElementById('category-view').style.display = 'block';
}

// Sistema de desaf√≠os
function showChallenges() {
  document.getElementById('main-menu').style.display = 'none';
  document.getElementById('challenges-view').style.display = 'block';
  
  const challengesGrid = document.getElementById('challenges-grid');
  challengesGrid.innerHTML = '';
  
  const allChallenges = [
    {
      id: 'responsive-layout',
      title: 'Layout Responsivo Completo',
      description: 'Crea una p√°gina completa que se adapte a m√≥vil, tablet y desktop',
      difficulty: 'Intermedio',
      points: 200,
      timeLimit: 30
    },
    {
      id: 'ecommerce-card',
      title: 'Tarjeta de Producto E-commerce',
      description: 'Dise√±a una card de producto con imagen, precio y botones',
      difficulty: 'Principiante',
      points: 100,
      timeLimit: 15
    },
    {
      id: 'dashboard-layout',
      title: 'Dashboard Administrativo',
      description: 'Crea un layout de dashboard con sidebar y contenido principal',
      difficulty: 'Avanzado',
      points: 300,
      timeLimit: 45
    }
  ];
  
  allChallenges.forEach(challenge => {
    const isCompleted = userProgress.completedLessons.includes(challenge.id);
    
    const challengeHTML = `
      <div class="col-md-6 col-lg-4 mb-4">
        <div class="card challenge-card h-100 ${isCompleted ? 'completed' : ''}">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start mb-3">
              <h5 class="card-title">${challenge.title}</h5>
              ${isCompleted ? '<i class="fas fa-trophy text-warning"></i>' : ''}
            </div>
            <span class="badge ${getDifficultyColor(challenge.difficulty)} mb-2">${challenge.difficulty}</span>
            <p class="card-text">${challenge.description}</p>
            <div class="d-flex justify-content-between align-items-center mt-auto">
              <div>
                <small class="text-muted">
                  <i class="fas fa-clock me-1"></i>${challenge.timeLimit} min
                </small>
                <br>
                <small class="text-warning">
                  <i class="fas fa-star me-1"></i>+${challenge.points} pts
                </small>
              </div>
              <button class="btn btn-outline-primary btn-sm" onclick="startChallenge('${challenge.id}')">
                ${isCompleted ? 'Ver Soluci√≥n' : 'Comenzar'}
              </button>
            </div>
          </div>
        </div>
      </div>
    `;
    
    challengesGrid.innerHTML += challengeHTML;
  });
}

function startChallenge(challengeId) {
  alert(`Iniciando desaf√≠o: ${challengeId}\n\n¬°Esta funcionalidad se puede expandir con un editor dedicado para desaf√≠os!`);
}

// Funciones de utilidad
function saveProject() {
  const htmlCode = document.getElementById('playground-html-code').value;
  const cssCode = document.getElementById('playground-css-code').value;
  const jsCode = document.getElementById('playground-js-code').value;
  
  const project = {
    html: htmlCode,
    css: cssCode,
    js: jsCode,
    timestamp: new Date().toISOString()
  };
  
  localStorage.setItem('bootstrapPlaygroundProject', JSON.stringify(project));
  
  // Mostrar confirmaci√≥n
  const btn = event.target;
  const originalText = btn.innerHTML;
  btn.innerHTML = '<i class="fas fa-check me-2"></i>Guardado!';
  btn.classList.add('btn-success');
  
  setTimeout(() => {
    btn.innerHTML = originalText;
    btn.classList.remove('btn-success');
  }, 2000);
}

function shareProject() {
  const htmlCode = document.getElementById('playground-html-code').value;
  const cssCode = document.getElementById('playground-css-code').value;
  const jsCode = document.getElementById('playground-js-code').value;
  
  const shareData = {
    title: 'Mi Proyecto Bootstrap',
    text: 'Mira este proyecto que cre√© con Bootstrap Academy',
    url: window.location.href
  };
  
  if (navigator.share) {
    navigator.share(shareData);
  } else {
    // Fallback: copiar al portapapeles
    const projectCode = `HTML:\n${htmlCode}\n\nCSS:\n${cssCode}\n\nJS:\n${jsCode}`;
    navigator.clipboard.writeText(projectCode).then(() => {
      alert('C√≥digo copiado al portapapeles');
    });
  }
}

function resetProgress() {
  if (confirm('¬øEst√°s seguro de que quieres reiniciar todo tu progreso?')) {
    userProgress = {
      completedLessons: [],
      points: 0,
      achievements: [],
      currentStreak: 0
    };
    saveProgress();
    updateProgressDisplay();
    alert('Progreso reiniciado');
  }
}

function showHelp() {
  const helpModal = `
    <div class="modal fade" id="helpModal" tabindex="-1">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header bg-primary text-white">
            <h5 class="modal-title">
              <i class="fas fa-question-circle me-2"></i>Ayuda
            </h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <h6>üöÄ C√≥mo usar Bootstrap Academy</h6>
            <ul>
              <li><strong>Lecciones:</strong> Aprende paso a paso con teor√≠a y pr√°ctica</li>
              <li><strong>Playground:</strong> Experimenta libremente con Bootstrap</li>
              <li><strong>Desaf√≠os:</strong> Pon a prueba tus habilidades</li>
              <li><strong>Progreso:</strong> Sigue tu avance y gana puntos</li>
            </ul>
            
            <h6>üí° Consejos</h6>
            <ul>
              <li>Practica escribiendo el c√≥digo en lugar de solo copiarlo</li>
              <li>Experimenta modificando los ejemplos</li>
              <li>Usa el playground para crear tus propios proyectos</li>
              <li>No dudes en consultar la documentaci√≥n oficial de Bootstrap</li>
            </ul>
            
            <h6>üèÜ Sistema de Puntos</h6>
            <ul>
              <li>Completar lecci√≥n: +100 puntos</li>
              <li>Completar desaf√≠o: +100-300 puntos</li>
              <li>Logros especiales: +50-200 puntos</li>
            </ul>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">
              <i class="fas fa-thumbs-up me-2"></i>¬°Entendido!
            </button>
          </div>
        </div>
      </div>
    </div>
  `;
  
  // Agregar modal al DOM si no existe
  if (!document.getElementById('helpModal')) {
    document.body.insertAdjacentHTML('beforeend', helpModal);
  }
  
  const modal = new bootstrap.Modal(document.getElementById('helpModal'));
  modal.show();
}

// Inicializaci√≥n cuando la p√°gina carga
document.addEventListener('DOMContentLoaded', function() {
  initializeLessons();
  
  // Auto-ejecutar c√≥digo cuando se escribe (con debounce)
  let debounceTimer;
  
  ['html-code', 'css-code', 'js-code'].forEach(id => {
    const textarea = document.getElementById(id);
    if (textarea) {
      textarea.addEventListener('input', function() {
        clearTimeout(debounceTimer);
        debounceTimer = setTimeout(runCode, 1000);
      });
    }
  });
  
  ['playground-html-code', 'playground-css-code', 'playground-js-code'].forEach(id => {
    const textarea = document.getElementById(id);
    if (textarea) {
      textarea.addEventListener('input', function() {
        clearTimeout(debounceTimer);
        debounceTimer = setTimeout(runPlaygroundCode, 1000);
      });
    }
  });
  
  console.log('üéâ Bootstrap Academy cargada completamente!');
});

// Cerrar el script anterior y terminar el HTML
}); // Cerrar el event listener de DOMContentLoaded

// Cerrar las etiquetas HTML finales
</script>
</body>
</html>